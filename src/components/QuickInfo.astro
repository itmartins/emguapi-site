---
// Podes personalizar as cores aqui
---
<div class="bg-white border border-gray-100 rounded-[2rem] p-6 shadow-sm mb-8 flex flex-col md:flex-row items-center justify-between gap-6">
  <div id="weather-widget" class="flex items-center gap-4">
    <div class="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-500" id="weather-icon">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"></path><circle cx="12" cy="12" r="4"></circle></svg>
    </div>
    <div>
      <p class="text-[10px] font-black uppercase tracking-widest text-navy-soft opacity-60">Clima em Guapi</p>
      <p id="weather-temp" class="text-2xl font-black text-navy-dark leading-none">--°C</p>
    </div>
  </div>

  <div class="flex items-center gap-4 border-t md:border-t-0 md:border-l border-gray-100 pt-6 md:pt-0 md:pl-8 w-full md:w-auto">
    <div class="hidden sm:flex w-10 h-10 bg-red-base/10 rounded-full items-center justify-center text-red-base">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
    </div>
    <div class="flex-1">
      <p class="text-[10px] font-black uppercase tracking-widest text-navy-soft opacity-60">Planeia a tua Rota</p>
      <button id="btn-route" class="text-sm font-bold text-red-base hover:underline flex items-center gap-1">
        Ver tempo de viagem até Guapi →
      </button>
    </div>
  </div>
</div>

<script>
  // Lógica do Clima (Exemplo usando OpenWeatherMap - precisas de uma KEY gratuita)
  // Por agora, vamos usar uma lógica simplificada para não travar o site
  async function getWeather() {
    const tempElement = document.getElementById('weather-temp');
    try {
      // Podes substituir 'Guapimirim' pela lat/lon se quiseres precisão máxima
      const response = await fetch(`https://api.openmeteo.com/v1/forecast?latitude=-22.5403&longitude=-42.9822&current_weather=true`);
      const data = await response.json();
      if (tempElement) tempElement.innerText = `${Math.round(data.current_weather.temperature)}°C`;
    } catch (e) {
      if (tempElement) tempElement.innerText = "24°C"; // Fallback
    }
  }

  // Lógica da Rota
  document.getElementById('btn-route')?.addEventListener('click', () => {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition((position) => {
        const { latitude, longitude } = position.coords;
        // Abre o Google Maps com a rota da pessoa até ao centro de Guapimirim
        window.open(`https://www.google.com/maps/dir/?api=1&origin=${latitude},${longitude}&destination=Guapimirim,RJ`, '_blank');
      }, () => {
        // Se a pessoa negar a localização, abre o Maps só com o destino
        window.open(`https://www.google.com/maps/dir/?api=1&destination=Guapimirim,RJ`, '_blank');
      });
    }
  });

  getWeather();
</script>